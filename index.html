<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video Unlock Page</title>
  <style>
    body {
      background: #111;
      color: #fff;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 30px 15px;
    }
    .file-name {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 15px;
    }
    .preview-image {
      max-width: 100%;
      max-height: 300px;
      border: 3px solid #444;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    .btn {
      margin: 10px;
      padding: 12px 25px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .locked {
      background: gray;
      pointer-events: none;
    }
    .unlocked {
      background: green;
      color: white;
    }
    .warning {
      margin-top: 15px;
      color: red;
      font-weight: bold;
      font-size: 16px;
    }
    #timer {
      font-size: 18px;
      margin-top: 10px;
      color: yellow;
    }
  </style>
</head>
<body>
  <div class="file-name">File Name</div>
  <img src="https://i.imgur.com/Cv0Rj5z.png" class="preview-image" alt="Preview"><button id="unlockBtn" class="btn unlocked">Unlock Video</button>

  <div id="timer"></div>
  <div class="warning" id="warningText">Keep the tab open for 10 seconds to unlock video</div><button id="scrollToWatchNowBtn" class="btn locked">Scroll to Watch Now</button>

  <div style="height: 150px;"></div>
  <button id="scrollToUnlockBtn" class="btn">Scroll to Unlock Video</button>
  <div style="height: 200px;"></div>
  <button id="watchNowBtn" class="btn locked">Watch Now</button>  <script>
    let timerEl = document.getElementById('timer');
    let unlockBtn = document.getElementById('unlockBtn');
    let scrollToWatchNowBtn = document.getElementById('scrollToWatchNowBtn');
    let scrollToUnlockBtn = document.getElementById('scrollToUnlockBtn');
    let watchNowBtn = document.getElementById('watchNowBtn');
    let warningText = document.getElementById('warningText');

    let unlockStartTime = null;
    let force60 = false;
    let tabBlurred = false;

    unlockBtn.addEventListener('click', () => {
      unlockStartTime = Date.now();
      window.open('https://youtu.be/X40NrruDDqs?si=_To8mXs3xgxjNe9c', '_blank');
      startInitialTimer();
    });

    scrollToWatchNowBtn.addEventListener('click', () => {
      document.getElementById('watchNowBtn').scrollIntoView({ behavior: 'smooth' });
    });

    scrollToUnlockBtn.addEventListener('click', () => {
      document.getElementById('unlockBtn').scrollIntoView({ behavior: 'smooth' });
    });

    function startInitialTimer() {
      let timer = 10;
      timerEl.innerText = `Timer: 0/${timer} seconds`;
      let interval = setInterval(() => {
        let elapsed = Math.floor((Date.now() - unlockStartTime) / 1000);

        if (elapsed >= 10 && !force60) {
          clearInterval(interval);
          unlockScrollAndWatch();
        } else if (force60 && elapsed >= 60) {
          clearInterval(interval);
          unlockScrollAndWatch();
        } else {
          timerEl.innerText = `Timer: ${elapsed}/${force60 ? 60 : 10} seconds`;
        }
      }, 1000);
    }

    function unlockScrollAndWatch() {
      scrollToWatchNowBtn.classList.remove('locked');
      scrollToWatchNowBtn.classList.add('unlocked');
      watchNowBtn.classList.remove('locked');
      watchNowBtn.classList.add('unlocked');
      scrollToUnlockBtn.classList.add('locked');
      warningText.innerText = 'Video unlocked!';
    }

    window.onblur = () => {
      tabBlurred = true;
    }

    window.onfocus = () => {
      if (tabBlurred && unlockStartTime && (Date.now() - unlockStartTime) < 10000) {
        force60 = true;
        unlockStartTime = Date.now();
        warningText.innerText = 'You closed/minimized the tab early. Wait 60 seconds to unlock';
        startInitialTimer();
      }
    }

    watchNowBtn.addEventListener('click', () => {
      window.open('https://youtu.be/X40NrruDDqs?si=_To8mXs3xgxjNe9c', '_blank');
    });
  </script></body>
</html>
